<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Onboarding - DSP-Repository Developer Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">DSP-Repository Developer Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="onboarding"><a class="header" href="#onboarding">Onboarding</a></h1>
<h2 id="rust"><a class="header" href="#rust">Rust</a></h2>
<p>The main technology we use is Rust.
A solid understanding of Rust is needed,
though particularly the frontend work does not require deep knowledge of Rust.</p>
<h3 id="rust-http-server"><a class="header" href="#rust-http-server">Rust HTTP Server</a></h3>
<p>We use <a href="https://docs.rs/axum/latest/axum/">Axum</a> as our HTTP server.</p>
<h3 id="serialization-and-deserialization"><a class="header" href="#serialization-and-deserialization">Serialization and Deserialization</a></h3>
<p>We use <a href="https://serde.rs/">serde</a> for serialization and deserialization of data.</p>
<h3 id="rust-templating"><a class="header" href="#rust-templating">Rust Templating</a></h3>
<p>We use <a href="https://maud.lambda.xyz/">Maud</a> as our templating engine for rendering HTML in Rust.</p>
<p>Maud is a macro-based templating engine that allows writing HTML directly in Rust code.
It is similar to JSX, where the HTML is written inline with the Rust code.
This approach provides strong type safety and excellent integration with Rust's ownership system.</p>
<p>Maud offers several advantages:</p>
<ul>
<li>Compile-time template checking</li>
<li>Full Rust syntax support within templates</li>
<li>Automatic HTML escaping</li>
<li>No external template files to manage</li>
<li>Better IDE support with syntax highlighting and autocomplete</li>
</ul>
<h3 id="archtectural-design-patterns"><a class="header" href="#archtectural-design-patterns">Archtectural Design Patterns</a></h3>
<p>We follow concepts such as <a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">Clean Architecture</a>
(there is also a <a href="https://www.oreilly.com/library/view/clean-architecture-a/9780134494272/">book</a>),
<a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)">Hexagonal Architecture</a>
or <a href="https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/">Onion Architecture</a>.
Familiarity with these concepts will be helpful.</p>
<p>Some of the patterns must be adapted to the idioms of Rust,
but the general principles are the same.</p>
<h3 id="testing"><a class="header" href="#testing">Testing</a></h3>
<p>We follow the Testing Pyramid approach to testing,
the majority of tests are unit tests, with a smaller number of integration tests, and a few end-to-end tests.</p>
<p>Unit and integration tests are written in Rust, following the Rust testing best practices.
End-to-end tests are written either in Rust or in JavaScript using Playwright.</p>
<p>We are looking into how to integrate Playwright into our setup.
Playwright may be used for the following:</p>
<ul>
<li>End-to-end tests simulating <em>entire user flows</em>.</li>
<li>Visual regression tests.</li>
</ul>
<p>For single user interactions, we should not need Playwright.
For these, we should use the Rust testing framework.</p>
<h3 id="domain-driven-design"><a class="header" href="#domain-driven-design">Domain Driven Design</a></h3>
<p>We do not follow strict Domain Driven Design (DDD) principles,
but we try to follow some of the concepts.
In particular, we try to keep the language used in code aligned with the domain language.</p>
<h3 id="test-driven-development"><a class="header" href="#test-driven-development">Test Driven Development</a></h3>
<p>We should absolutely do TDD and BDD.</p>
<h2 id="database"><a class="header" href="#database">Database</a></h2>
<p>We are still evaluating the database to use.</p>
<p>For the initial development, we work with static content or JSON files.</p>
<h2 id="hypermedia"><a class="header" href="#hypermedia">Hypermedia</a></h2>
<p>Instead of the traditional single-page application architecture,
where the client is a JavaScript application that runs in the browser,
and communicates with the server via JSON over HTTP,
we are using a hypermedia approach.</p>
<p>In this approach, the server sends HTML pages or fragments to the client.
The client simply renders the HTML, without much JavaScript.
The client also does not need to maintain state,
this is done by the server.
Server and client keep a connection open,
through which the server can send updates to the client,
so called "server-sent events" (SSE),
which guarantees responsiveness and interactivity.</p>
<p>This approach has several advantages:</p>
<ul>
<li>The client is much simpler, as it does not need to maintain state or manage complex interactions.</li>
<li>The client does not have many security concerns, as the server is the source of truth
and can control what is sent to the client.</li>
<li>The server can update the client at any time, without the need for the client to poll for updates.</li>
</ul>
<p>Furthermore, with this approach, we can share much of the code between the server and the client.
With the UI-code living on the server, we can use the same language (Rust) for both server and client,
and there is no strict separation between backend and frontend.</p>
<p>The hypermedia approach is not a new concept, it has been used in the past,
but had been widely replaced by the single-page application approach.
Lately, the hypermedia approach has been making a comeback.</p>
<p>This approach is best known from <a href="https://htmx.org/">HTMX</a>.
HTMX is fairly well established and there is a lot of learning material available.
Its major downside is that it is not sufficient for most use-cases, when used by itself.
Most of the time, you need to combine it with other libraries, such as Alpine.js.</p>
<p>Rather than HTMX, we are using <a href="https://data-star.dev/">DataStar</a>,
which provides similar functionality,
but is more compliant with web standards,
and provides a more complete solution,
so that we do not need to combine it with other libraries.</p>
<p>DataStar is a fairly new project,
so there is not much learning material available yet.
However, it is very similar to HTMX,
so that most of the HTMX learning material can be applied to DataStar as well.</p>
<h2 id="design-system"><a class="header" href="#design-system">Design System</a></h2>
<p>Rather than using a generic design system,
and designing solutions on top of it ad hoc,
we are using a purpose-built design system.
This will help us to keep the design consistent and coherent,
reduce complexity, and give our products a clearer brand identity.</p>
<p>This design system is built with Tailwind Plus as its foundation,
providing modern, utility-first styling and component patterns.</p>
<h3 id="concept-aim-and-purpose"><a class="header" href="#concept-aim-and-purpose">Concept, Aim and Purpose</a></h3>
<p>We build the DSP Design System using Tailwind Plus principles
because it provides a robust foundation for creating consistent, maintainable interfaces
that communicate the reliability and trustworthiness that users expect from an archive.</p>
<p>Our approach differs from using design systems as-is for several key reasons:</p>
<ul>
<li><strong>Purpose-built focus</strong>: Rather than using a generic, customizable system,
we create a focused design system tailored specifically to the DSP platform's needs.
This reduces complexity and ensures consistency by limiting options to what we actually need.</li>
<li><strong>Brand integration</strong>: By building our own implementation, we can bake the DSP brand
directly into the system, eliminating the need for extensive customization layers.</li>
<li><strong>Tech stack alignment</strong>: Our Rust-based, Maud-native implementation aligns perfectly
with our technology choices, allowing us to move component implementation
to dedicated design system work rather than ad-hoc development during project work.<br />
The design system work will be done in close collaboration between Dev and PM,
and is an up-fron investment that will improve the speed and quality of project work in the long run.</li>
</ul>
<h3 id="implementation"><a class="header" href="#implementation">Implementation</a></h3>
<p>It is part of the discovery process to define components needed for any project.</p>
<p>These are then implemented in the design system as individual, reuseable components.
It should then be possible to import these components as Rust modules,
and use them in the project code.</p>
<p>The details of the implementation depend on the rendering engine we decide to use.</p>
<h3 id="playground"><a class="header" href="#playground">Playground</a></h3>
<p>We create a playground for the design system,
where we can test and experiment with the components.</p>
<p>This playground is a Rust web server with TypeScript testing:</p>
<ul>
<li>Shell interface with component navigation</li>
<li>Component isolation via iframe rendering</li>
<li>Variant selection and theme switching</li>
<li>Live reload via WebSocket</li>
<li>TypeScript/Playwright tests for functional, accessibility, and visual regression testing</li>
</ul>
<p>For each component, we create a page that shows the component in action,
in all its variants and states.
We also pages for compounds and patterns,
where we show how to use the components together.
Finally, we create sample pages that show how to use the components in a real-world scenario.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../fundamentals/testing.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../fundamentals/testing.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
